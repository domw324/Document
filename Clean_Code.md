# Intro
##### 이 글은 개인 학습을 위해 책 내용을 기록하고, 관련된 정보들 및 생각을 기록합니다.  
## 책 소개
![책 표지](/images/CleanCode.Book_Cover.png)  
|  |
| :---: |
| **Clean Code(클린코드)<br>: 애자일 소프트웨어 장인 정신** |
| **Rovert C. Martin** |
|  박재호, 이혜영 옮김 |
| 인사이트 |

 위 책을 읽으면서 '좋은 코드'란 어떤 것이고, 어떤 습관을 가지면 좋을지 이 책에서 찾아보고자 한다.

# Clean Code Skill
## Clean Code

## 의미 있는 이름 - Naming

## 함수 - Method
함수는 이해하기 쉽게, 예측할 수 있게, 유지관리하기 쉽게 작성해야한다. 어떻게 하면 함수를 잘 작성할 수 있을까?
##### 함수는 **짧을/작을** 수록 좋다.
##### 함수는 **한 가지 일**을 해야한다.
- 함수가 한 가지 일을 하는지 판단하는 방법으로는 함수 내 동작을 '**섹션**'으로 나눠보자. 하나의 일만 하는 함수는 여러 세션으로 나누기 어렵다.
##### 각 함수는 **하나의 추상화 수준**에서만 작동할 수 있도록 작성하자.
- ex: 한 함수내에서 Html, Server, 출력과 같은 여러 추상화 단계에서 동작하는 경우
- 코드를 읽는 사람이 헷갈리게 되고, 후에 다른 개발자들이 함수에 여러 세부사항을 더 추가하게 된다.
##### 코드는 **위에서 아래**로 읽히는 것이 좋다. 이야기 읽듯.
##### 함수명은 함수의 동작을 잘 표현할 수 있도록 서술적으로 풀어써도 좋다.
- 가능하면 입/출력까지 예측할 수 있으면 더 좋다.
- 함수명이 길어져도 괜찮다.
##### 함수의 **인수는 적을수록** 이해하기 쉽다.
- 인수가 많아질 수록 함수를 접하는 사람들은 더 많은 경우의 수를 조합해야 한다.
- 0개일 때가 가장 이상적!
- 인수가 필수적인 경우, 각 인수끼리 자연적인 순서가 있는 경우는 예외. // ex: x, y 좌표
- 인수를 묶어 하나의 객체로 넘겨주는 방법도 고려하자. // ex: 좌표 x, y → Point(x, y)
- 함수 이름에 인수 키워드를 추가하는 것도 시도해볼만하다.
##### 부수효과를 일으키지말자.
- 예측 된 함수의 동작 이외의 부수효과는 예상하지 못한 결과를 만든다.
- 예측할 수 없는 부수효과는 시간적 결합이나 순서 종속성을 빚는다.
##### 명령/조회 함수를 분리하자.
- ex: DB의 CRUD 함수 분리
##### 오류 코드(if)보다 **예외**(try-catch)를 사용하는 것이 좋다.
- 오류 코드를 쓰면 오류 발생 시 곧바로 오류를 처리해야하기 때문에 오류 처리코드와 원래 의도한 코드가 섞이게 된다.
- 예외를 사용하면, **원래 코드와 오류 처리코드가 명확히 분리**되어 코드가 깔끔해진다.
- try-catch문도 **throws Exception**을 사용해 별도 오류 처리 함수로 분리하면 더 깔끔해진다.
##### 코드 반복은 좋지 않다.
- 코드를 반복해서 짜게 되면 코드 길이가 늘어나고, 알고리즘이 변할 때 중복된 모든 곳을 수정해야 한다.
##### 큰 함수를 짤 때는 구조적 프로그래밍이 도움이 된다.
- 큰 함수 내에서 break나 continue등의 분기를 사용해 return 시기가 여러 곳이 되면 매우 복잡해진다. 그래서 단일 출/입구 규칙을 지키면 더 깔끔한 함수가 된다.
- 크기가 작은 함수에서는 크게 도움이 되지는 못한다.

## 주석 - Comments
> 잘 달린 주석은 유용한 정보를 제공하고, 경솔하고 근거없는 주석은 코드를 이해하기 어렵게 만든다. 오래되고 조잡한 주석은 거짓과 잘못된 정보를 퍼뜨린다. - Clean Code 중  

일단, 주석은 오래될수록 코드에서 멀어지게 된다. 개발자들이 주석까지 유지보수하기는 현실적으로 불가능 하기 때문이다. 코드는 변화하고 진화하지만 주석은 이를 따라가지 못한다. 즉, 애초에 **주석이 필요없는 좋은 코드**를 짜는 것이 가장 좋은 방법이다.  
그럼에도 불구하고 주석이 필요하다면, 어떤 주석이 좋은 주석이고 나쁜 주석은 어떤 주석일까. 어떻게 달아야 할까?

##### 주석은 나쁜 코드를 보완하지 못한다
> 나쁜 코드에 주석을 달지 마라, 새로 짜라. - 브라이언 W. 커니핸, P.J. 플라우거
- 나쁜 코드를 보완하기 위해 주석을 달 시간에 코드를 개선하자.
##### 코드로 의도를 표현하자
- 주석으로 달려는 설명을 함수로 만들어 표현하는 것도 좋은 방법
##### 좋은 주석
- 법적인 주석
  - 회사가 정립한 구현 표준에 맞춰 법적인 이유로 넣은 특정 주석
  - ex: 저작권, 소유권
- 정보 제공 주석
  - ex: 추상 함수가 반환할 값 설명
  - 반환값을 클래스로 만들어 주석이 필요없게 할 수도 있다.
- 의도 설명 주석
  - 구조 설정 및 구현 방식 결정에 깔린 작성자의 의도를 설명
- 의미를 명효하게 밝히는 주석
  - 인수나 반환값이 표준 라이브러리이거나 변경하지 못하는 코드에 속하는 경우. (코드를 변경할 수 없으니 주석으로 의미를 명료하게 함)
- 결과를 경고하는 주석
- TODO
  - 필요하다고 여기지만 당장 구현이 불가능한 업무. 그 외의 알림, 요청, 부탁
  - 대다수 IDE에서 제공하는 TODO 주석 전부를 찾아 보여주는 기능을 함께 활용하면 더 좋다.
  - 그렇다고 TODO로 떡칠한 코드는 좋은 코드라고 할 수는 없다.
- 중요성 강조 주석
  - 자칫 대수롭지 않다고 여겨질 뭔가의 중요성을 강조
- 공개 API에서 Javadocs
  - 설명이 잘 된 API는 유용하고 만족스럽게 사용할 수 있다.
##### 나쁜 주석
- 거의 대부분의 주석
  - 허술한 코드 지탱, 엉성한 코드 변명, 미숙한 결정 합리화, ...
- 주절거리는 주석
  - 주석을 달기로 결정했다면 최고의 주석을 달도록 노력하자.
- 동일 내용 중복 주석
  - 코드 내용을 그대로 설명하는 주석
  - 자칫하면 코드보다 주석 읽는 시간이 더 오래걸린다. 심지어 읽는 사람이 함수를 대충 이해하고 넘어가게 만들 수도 있다.
- 오해할 여지가 있는 주석
- 의무적으로 다는 주석
  - 모든 함수/변수에 의무적으로 주석을 달 필요는 없다.
- 이력 기록 주석
  - 그냥 소스 코드 관리 시스템을 이용하자.
- 있으나 마나한 주석
  - 너무 당연한 사실. 쓰지 말자.
- 잡음
- 함수나 변수로 표현 가능한 주석
- 위치 표시 주석
- 닫는 괄호에 다는 주석
- 공로를 돌리거나 저자를 표시하는 주석
- 주석으로 처리한 코드
  - 과거 코드를 기억하고 싶다면, 소스 코드 관리 시스템을 사용하자.
- HTML 주석
- 전역 정보
  - 주석은 근처 코드만 기술해도 충분하다. 시스템의 전반적인 정보를 기술할 필요는 없다.
- 너무 많은 정보
  - 용건만 간단히
- 모호한 관계
  - 주석 자체가 새로운 설명이 필요해서는 안된다.
- 함수 헤더
  - 함수는 짧고 한 가지 기능만을 수행하고 이름을 잘 붙이면 그만이다.
- 비공개 코드의 Javadocs
  - 시스템 내부에 속해서 공개 되지 않는 코드라면, 주석으로 다른 이들에게 유용성을 제공할 수 없다.

## 형식 맞추기
코드 형식은 코드를 짜는 규칙이고, 의사소통 방식이다. 이 의사소통은 전문 개발자의 일차적 의무이다.  
처음 짜놓은 구현 스타일과 가독성 수준은 유지보수 용이성과 확장성에 계속 영향을 미친다. 코드는 변화해도 개발자의 스타일과 규율은 사라지지 않는다.  
물론 융통성 없이 맹목적으로 따르기만 해서는 안된다. 그렇다면 원활한 소통을 장려하는 코드 형식은 무엇일까?
##### 적절한 행 길이
일반적으로 큰 파일보다 작은 파일이 이해하기 쉽다.
- 신문 기사처럼 작성
  - 이름은 간단하면서 설명이 가능하게. 이름만 보고도 올바른 모듈을 살펴보고 있는지 판단 할 수 있도록 신경 써서 짓자.
  - 소스 파일 첫 부분은 고차원 개념과 알고리즘 설명
  - 아래로 내려갈수록 의도를 세세하게 묘사
  - 마지막에는 가장 저차원 함수와 세부 내역
- 개념은 빈 행으로 분리
  - 행 묶음은 완결된 생각 하나를 표현
  - 생각 사이에는 빈 행을 넣어 분리
  - 코드의 세로 레이아웃에 심오한 영향
- 세로 밀집도(수직 거리) = 연관성
  - 서로 연관성 있는 함수/변수들은 세로로 가깝게 둬야 한다.
  - 지역 변수 : 각 함수 맨 처음 / 루프 제어 변수 : 루프 문 내부 / 인스턴스 변수 : 클래스 맨 처음
  - 종속 함수 : 한 함수가 다른 함수를 호출한다면 두 함수는 세로로 가까이 배치
  - 개념적 유사성 : 명명법이 똑같고 기본 기능이 유사한 요소들은 가까이 배치하는 것이 좋다.
- 세로 순서
  - 함수 호출 종속성은 아래 방향으로 유지(호출하는 함수 → 호출되는 함수 순). 고차원에서 저차원으로 자연스럽게 배치 된다.
##### 가로 형식
결론적으로는 짧은 행이 바람직하다. (요즘은 모니터 화면이 넓어져서 200자 까지도 출력되지만,, 120자 이하가 적당하다.)
- 가로 공백과 밀집도 = 개념의 밀접성
  - 공백을 넣으면 두 가지 주요 요소가 확실히 나뉘게 된다.
  - ex: int lineSize = line.length(); // 공백을 통해 할당 연산자와 피연산자를 분리, 공백을 넣지 않아 .length() 함수와 밀접성 강조
  - ex: return b\*b - 4\*a\*c; // 곱셈과 뺄셈의 우선순위 표시
- 가로 정렬
  - 선언문과 할당문의 지나친 줄세우기는 오히려 변수 유형을 무시하는 결과를 가져올 수 있다.
  - 꼭 필요하지 않다면 굳이 하지 않아도 괜찮다.
- 들여쓰기 = 범위, 계층 표시
  - 코드 읽는 과정은 들여쓰기에 매우 의존적임.
  - 들여쓰기를 통해 코드가 속하는 범위를 시각적으로 표현.
##### 팀 규칙
- 팀은 한 가지 규칙에 합의해야 하며, 모든 팀원은 그 규칙으 따라야 한다. 그래야 소프트웨어가 일관적인 스타일을 보인다.  
- 좋은 소프트웨어 시스템은 읽기 쉬운 문서로 이뤄진다.  
- 스타일은 일관적이고 매끄러워야 한다.
- 한 소스에서 봤던 형식이 다른 소스 파일에도 쓰일 것이라는 신뢰감을 주자.